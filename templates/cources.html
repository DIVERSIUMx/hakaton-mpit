{% extends "base.html" %}

{% block title %}–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è - –í–ì–£{% endblock %}

{% block content %}
<div style="padding: 1em">
<div class="row">
    <div class="col-md-4">
        <div class="glass-card mb-4">
            <h3 class="mb-3">üîç –ü–æ–∏—Å–∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π</h3>
            <form action="" method="post">
                {{ form.hidden_tag() }}
                
                <div class="mb-3">
                    <label class="form-label muted">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é:</label>
                    {{ form.by_name(class="form-control", type="text", placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ...") }}
                </div>

                <div class="mb-3">
                    <label class="form-label muted">–ü–æ –±–∞–ª–ª–∞–º:</label>
                    <div class="row g-2">
                        <div class="col">
                            {{ form.min_ball(class="form-control", type="text", placeholder="–û—Ç") }}
                        </div>
                        <div class="col">
                            {{ form.max_ball(class="form-control", type="text", placeholder="–î–æ") }}
                        </div>
                    </div>
                </div>

                {% if message %}
                <div class="alert alert-danger">{{ message }}</div>
                {% endif %}

                <div class="mb-3">
                    <label class="form-label muted">–ü—Ä–µ–¥–º–µ—Ç—ã –ï–ì–≠:</label>
                    <div class="form-check">
                        {{ form.math(class="form-check-input") }}
                        <label class="form-check-label">{{ form.math.label }}</label>
                    </div>
                    <div class="form-check">
                        {{ form.russian_lang(class="form-check-input") }}
                        <label class="form-check-label">{{ form.russian_lang.label }}</label>
                    </div>
                    <div class="form-check">
                        {{ form.physics(class="form-check-input") }}
                        <label class="form-check-label">{{ form.physics.label }}</label>
                    </div>
                    <div class="form-check">
                        {{ form.it(class="form-check-input") }}
                        <label class="form-check-label">{{ form.it.label }}</label>
                    </div>
                    <div class="form-check">
                        {{ form.sosial(class="form-check-input") }}
                        <label class="form-check-label">{{ form.sosial.label }}</label>
                    </div>
                    <div class="form-check">
                        {{ form.chemystry(class="form-check-input") }}
                        <label class="form-check-label">{{ form.chemystry.label }}</label>
                    </div>
                    <div class="form-check">
                        {{ form.liter(class="form-check-input") }}
                        <label class="form-check-label">{{ form.liter.label }}</label>
                    </div>
                    <div class="form-check">
                        {{ form.geography(class="form-check-input") }}
                        <label class="form-check-label">{{ form.geography.label }}</label>
                    </div>
                    <div class="form-check">
                        {{ form.forein_lang(class="form-check-input") }}
                        <label class="form-check-label">{{ form.forein_lang.label }}</label>
                    </div>
                </div>

                {{ form.submit(class="btn btn-vgu w-100") }}
            </form>

            {% if current_user.is_authenticated %}
            <hr class="my-4">
            <a class="btn btn-success w-100" href="/cources/edit/new">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</a>
            {% endif %}
        </div>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π -->
    <div class="col-md-8">
        <div class="glass-card">
            <h3 class="mb-4">üéì –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏</h3>
            
            {% for cource in cources %}
            <div class="glass-card mb-3 p-3" style="background: rgba(255,255,255,0.03);">
                <div class="row align-items-center">
                    <div class="col-9">
                        <h5 class="text-primary">{{ cource.title }}</h5>
                        <p class="muted mb-2">{{ cource.desc }}</p>
                        
                        <div class="d-flex flex-wrap gap-2 mb-2">
                            {% if cource.math %}
                            <span class="badge ege">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</span>
                            {% endif %}
                            {% if cource.physics %}
                            <span class="badge ege">–§–∏–∑–∏–∫–∞</span>
                            {% endif %}
                            {% if cource.russian_lang %}
                            <span class="badge ege">–†—É—Å—Å–∫–∏–π —è–∑—ã–∫</span>
                            {% endif %}
                            {% if cource.it %}
                            <span class="badge ege">–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</span>
                            {% endif %}
                            {% if cource.sosial %}
                            <span class="badge ege">–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ</span>
                            {% endif %}
                            {% if cource.chemystry %}
                            <span class="badge ege">–•–∏–º–∏—è</span>
                            {% endif %}
                            {% if cource.liter %}
                            <span class="badge ege">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</span>
                            {% endif %}
                            {% if cource.geography %}
                            <span class="badge ege">–ì–µ–æ–≥—Ä–∞—Ñ–∏—è</span>
                            {% endif %}
                            {% if cource.forein_lang %}
                            <span class="badge ege">–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫</span>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="col-3 text-center">
                        <div class="rounded p-2">
                            <p><small>–ü—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª</small></p>
                            {% if cource.c_ball > 350 %}
                            <h4 class="ball hard-ball">{{ cource.c_ball }}</h4>
                            {% elif cource.c_ball > 250 %}
                            <h4 class="ball medium-ball">{{ cource.c_ball }}</h4>
                            {% elif cource.c_ball > 150 %}
                            <h4 class="ball easy-ball">{{ cource.c_ball }}</h4>
                            {% else %}
                            <h4 class="ball less-ball">{{ cource.c_ball }}</h4>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% if current_user.is_authenticated %}
                <a class="btn btn-sm btn-vgu" href="/cources/edit/{{ cource.id }}">
                    ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å
                </a>
                {% endif %}
            </div>
            {% else %}
            <div class="text-center py-4">
                <h5 class="">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h5>
                <p class="muted">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</p>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
</div>
{% endblock %}
